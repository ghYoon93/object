- 중복 코드는 우리를 주저하게 만들뿐만 아니라 동료들을 의심하게 만든다.

# DRY 원칙
- 중복 코드를 제거해야 하는 가장 큰 이유
  - 변경을 방해하기 때문에
  - 코드를 수정하는 데 필요한 노력을 몇 배로 증가시킨다.
- DRY 원칙
  - 모든 지식은 시스템 내에서 단일하고, 애매하지 않고, 정말로 믿을 만한 표현 양식을 가져야 한다.

# 중복과 변경
## 중복 코드 살펴보기
- 한 달에 한 번씩 가입자별로 전화 요금을 계산하는 애플리케이션
- 통화 시간 / 요금 부과 시간 * 요금
- Phone과 NightlyDiscountPhone 구현
- 두 클래스 사이에는 중복 코드가 존재한다.

## 중복 코드 수정하기
- 새로운 요구사항 추가
  - 통화 요금에 부과할 세금을 계산하는 것
- 통화 요금 계산 로직은 Phone과 NightlyDiscountPhone 양쪽 모두에 구현돼있다.
- 새로운 요구사항이 추가되었을 때 중복 코드에 빠짐없이 반영해야한다.
- 중복 코드를 제거하지 않은 상태에서 코드를 수정할 수 있는 유일한 방법은 새로운 중복 코드를 추가하는 것뿐이다.

## 타입 코드 사용하기
- 중복 코드를 제거하는 한 가지 방법이다. 낮은 응집도와 높은 결합도라는 문제점이 있다는 단점이 있다.

# 상속을 이용해서 중복 코드 제거하기
- `Phone`을 상속 받은 `NightlyDiscountPhone`
- 개발자의 가정을 이해하기 전에는 코드를 이해하기 어렵다.
- 상속을 염두에 두고 설계되지 않은 클래스를 상속을 이용해 재사용하는 것은 생각처럼 쉽지 않다.
- 상속은 결합도를 높인다. 상속이 초래하는 부모 클래스와 자식 클래스 아이의 강한 결합이 코드를 수정하기 어렵게 만든다.

# 강하게 결합된 Phone과 NightlyDiscountPhone
- 코드 중복을 제거하기 위해 상속을 사용했음에도 세금을 계산하는 로직을 추가하기 위해 새로운 중복 코드를 만들어야 한다.
- 상속을 위한 경고1
  - super 참조를 이용해 부모 클래스의 메서드를 직접 호출할 경우 두 클래스는 강하게 결합된다.
  - super 호출을 제거할 수 있는 방법을 찾아 결합도를 제거하라.
- 취약 기반 클래스
  - 상속 관계로 연결된 자식 클래스가 부모 클래스의 변경에 취약해지는 현상